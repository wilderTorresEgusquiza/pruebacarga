(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ca20"],{ca20:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","py-0":"","px-0":""}},[t.loadingChatModule?[a("div",{staticClass:"app-flex justify-center align-center h-vh-100"},[a("chat-module-loader")],1)]:[a("v-navigation-drawer",{attrs:{temporary:"",absolute:"",width:250},model:{value:t.chatSidebar,callback:function(e){t.chatSidebar=e},expression:"chatSidebar"}},[a("chat-sidebar")],1),a("v-layout",{staticClass:"chat-layout",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"chat-sidebar",attrs:{xl2:"",lg3:"",md3:"",sm0:"",xs0:""}},[a("chat-sidebar")],1),a("v-flex",{staticClass:"chat-main",attrs:{xl10:"",lg9:"",md9:"",sm12:"",xs12:""}},[a("chat-area")],1)],1)]],2)},l=[],r=a("c93e"),i=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chat-wrapper"},[t.loadingChat?a("div",{staticClass:"app-flex justify-center align-center h-vh-100"},[a("single-chat-loader")],1):[t.selectedUser?[a("v-toolbar",{staticClass:"chat-head"},[a("div",{staticClass:"chat-head-left d-custom-flex align-items-center"},[a("v-btn",{staticClass:"mr-2 ham-menu-icon d-none gray--text",attrs:{flat:"",icon:"",small:""},on:{click:t.toggleChatSidebar}},[a("v-icon",{attrs:{dark:""}},[t._v("menu")])],1),a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-left mr-3 pos-relative"},[a("img",{staticClass:"rounded-circle pos-relative",attrs:{src:t.selectedUser.avatar,alt:"user-profile",width:"40",height:"40"}}),a("span",{class:{"v-badge success rounded floating":1===t.selectedUser.status}})]),a("div",{staticClass:"media-body"},[a("h6",{staticClass:"mb-0"},[t._v(t._s(t.selectedUser.name))]),1===t.selectedUser.status?a("span",{staticClass:"grey--text fs-12 d-inline-block"},[t._v("online")]):a("span",{staticClass:"grey--text fs-12 d-inline-block"},[t._v("Last seen "+t._s(t.selectedUser.lastSeen))])])])],1),a("div",{staticClass:"chat-head-right"},[a("v-btn",{staticClass:"video-icon",attrs:{icon:"",color:"primary"}},[a("v-icon",[t._v("videocam")])],1),a("v-btn",{attrs:{icon:"",color:"primary"}},[a("v-icon",[t._v("phone")])],1),a("v-menu",{attrs:{"offset-y":"",origin:"left left",transition:"scale-transition",left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[t._v("more_vert")])],1),a("v-list",[a("v-list-tile",{on:{click:function(e){t.console.log("clear chat")}}},[a("v-list-tile-title",[t._v("Clear Chat")])],1),a("v-list-tile",{on:{click:function(e){t.console.log("mute notifications")}}},[a("v-list-tile-title",[t._v("Mute Notifications")])],1),a("v-list-tile",{on:{click:function(e){t.console.log("block")}}},[a("v-list-tile-title",[t._v("Block")])],1)],1)],1)],1)]),a("vue-perfect-scrollbar",{staticClass:"chat-area-scroll",style:t.getScrollHeight(),attrs:{settings:t.settings}},[a("div",{staticClass:"chat-body"},[t._l(t.selectedUser.chats,function(e,s){return[a("div",{key:s,staticClass:"chat-block mb-3",class:{"flex-row-reverse":e.isAdmin}},[e.isAdmin?[a("div",{staticClass:"avatar-wrap ml-3"},[a("img",{staticClass:"rounded-circle",attrs:{src:"/static/avatars/user-5.jpg",alt:"user-profile",width:"40",height:"40"}})]),a("div",{staticClass:"chat-bubble-wrap"},[a("div",{staticClass:"chat-bubble odd primary px-3 d-custom-flex align-items-center"},[a("span",{staticClass:"d-inline-block fs-14 white--text"},[t._v(t._s(e.body))])]),a("span",{staticClass:"fs-12 grey--text text-xs-right d-block mt-1 fw-light"},[t._v(t._s(e.time))])])]:[a("div",{staticClass:"avatar-wrap mr-3"},[a("img",{staticClass:"rounded-circle",attrs:{src:t.selectedUser.avatar,alt:"user-profile",width:"40",height:"40"}})]),a("div",{staticClass:"chat-bubble-wrap"},[a("div",{staticClass:"chat-bubble even aqua-bg px-3 d-custom-flex align-items-center"},[a("span",{staticClass:"d-inline-block fs-14"},[t._v(t._s(e.body))])]),a("span",{staticClass:"fs-12 grey--text text-xs-left d-block mt-1 fw-light"},[t._v(t._s(e.time))])])]],2)]})],2)]),a("div",{staticClass:"chat-footer px-3"},[a("div",{staticClass:"d-custom-flex"},[a("v-text-field",{attrs:{"hide-details":"",name:"input-1-3",label:"Send Message...","single-line":"",value:t.newMessage},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.sendMessage(e):null}},model:{value:t.newMessage,callback:function(e){t.newMessage=e},expression:"newMessage"}}),a("v-btn",{attrs:{fab:"",small:""}},[a("v-icon",{attrs:{dark:""}},[t._v("attachment")])],1),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.sendMessage}},[a("v-icon",{attrs:{dark:""}},[t._v("send")])],1)],1)])]:a("div",{staticClass:"chat-box-main"},[a("div",{staticClass:"centered"},[t._m(0),a("v-btn",{staticClass:"select-user d-none",attrs:{flat:"",color:"primary"},on:{click:t.toggleChatSidebar}},[t._v("\n\t\t\t\t\tSelect User\n\t\t\t\t")])],1)])]],2)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("i",{staticClass:"zmdi zmdi-comments font-3x primary--text"})])}],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})},d=[],u=a("2877"),h={},v=Object(u["a"])(h,o,d,!1,null,null,null);v.options.__file="SingleChatLoader.vue";var p=v.exports,f=a("4da1"),m={computed:Object(r["a"])({},Object(i["b"])(["selectedUser","loadingChat"])),data:function(){return{settings:{maxScrollbarLength:260},newMessage:""}},components:{SingleChatLoader:p},mounted:function(){this.scrollToEnd()},updated:function(){""==this.newMessage&&this.scrollToEnd()},methods:{sendMessage:function(){""!==this.newMessage&&(this.$store.dispatch("sendMessage",this.newMessage),this.newMessage="",this.scrollToEnd())},toggleChatSidebar:function(){this.$store.dispatch("toggleChatSidebar",!0)},getScrollHeight:function(){var t=Object(f["a"])(this.$router);switch(t){case"default":return"height: calc(100vh - 200px)";case"horizontal":return"height: calc(100vh - 250px)";case"boxed":return"height: calc(100vh - 380px)";case"boxed-v2":return"height: calc(100vh - 380px)";default:return"height: calc(100vh - 200px)"}},scrollToEnd:function(){var t=document.querySelector(".chat-area-scroll");if(null!==t){var e=t.scrollHeight;t.scrollTop=e}}}},g=m,b=Object(u["a"])(g,c,n,!1,null,null,null);b.options.__file="ChatArea.vue";var C=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"chat-content"},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-toolbar-title",[t._v("Chat")]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("search")])],1)],1),a("v-list",[a("vue-perfect-scrollbar",{staticClass:"chat-sidebar-scroll",style:t.getScrollHeight(),attrs:{settings:t.settings}},[t._l(t.users,function(e,s){return[a("v-list-tile",{key:s,class:{"grayish-blue":e.selected},attrs:{avatar:""},on:{click:function(a){t.openChat(e)}}},[a("v-list-tile-avatar",[a("img",{attrs:{src:e.avatar}})]),a("v-list-tile-content",[a("h6",{staticClass:"mb-1",domProps:{innerHTML:t._s(e.name)}}),e.chats.length>0?a("span",{staticClass:"fs-12 grey--text",domProps:{innerHTML:t._s(e.chats[e.chats.length-1].body)}}):t._e()])],1)]})],2)],1)],1)},y=[],x={computed:Object(r["a"])({},Object(i["b"])(["users","selectedUser"])),data:function(){return{settings:{maxScrollbarLength:160}}},methods:{openChat:function(t){this.$store.dispatch("openChat",t)},getScrollHeight:function(){var t=Object(f["a"])(this.$router);switch(t){case"default":return"height: calc(100vh - 130px)";case"horizontal":return"height: calc(100vh - 180px)";case"boxed":return"height: calc(100vh - 305px)";case"boxed-v2":return"height: calc(100vh - 305px)";default:return"height: calc(100vh - 130px)"}}}},w=x,S=Object(u["a"])(w,_,y,!1,null,null,null);S.options.__file="ChatSidebar.vue";var k=S.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})},j=[],$={},O=Object(u["a"])($,M,j,!1,null,null,null);O.options.__file="ChatModuleLoader.vue";var U=O.exports,q={beforeMount:function(){this.$store.dispatch("getUsers")},mounted:function(){document.querySelector("html").style.overflow="hidden";var t=document.querySelector(".app-default-layout .v-content__wrap"),e=document.querySelector(".app-mini-layout .v-content__wrap"),a=document.querySelector(".app-boxed-layout .app-content");t?t.style.overflow="hidden":e?e.style.overflow="hidden":a?a.style.overflow="hidden":document.querySelector(".app-horizontal-layout .v-content__wrap").style.overflow="hidden"},destroyed:function(){document.querySelector("html").style.overflow="hidden";var t=document.querySelector(".app-default-layout .v-content__wrap"),e=document.querySelector(".app-mini-layout .v-content__wrap"),a=document.querySelector(".app-boxed-layout .app-content"),s=document.querySelector(".app-horizontal-layout .v-content__wrap");t&&(t.style.overflow="auto"),e&&(e.style.overflow="auto"),a&&(a.style.overflow="auto"),s&&(s.style.overflow="auto")},components:{ChatArea:C,ChatSidebar:k,ChatModuleLoader:U},computed:Object(r["a"])({},Object(i["b"])(["loadingChatModule","selectedUser"]),{chatSidebar:{get:function(){return this.$store.getters.chatSidebar},set:function(t){this.$store.dispatch("toggleChatSidebar",t)}}})},E=q,L=Object(u["a"])(E,s,l,!1,null,null,null);L.options.__file="Chat.vue";e["default"]=L.exports}}]);
//# sourceMappingURL=ca20.9dcfbb2f.js.map